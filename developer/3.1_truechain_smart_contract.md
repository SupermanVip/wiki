# 初链智能合约

## 什么是智能合约

智能合约是一段以计算机程序的形式定义的电子合同，包括合约参与方可以在上面执行一些承诺的协议。

在90年代尼克萨博就提出了这个理念，几乎与互联网同龄。由于缺少可信的执行环境，智能合约并没有被应用到实际产业中。
区块链技术提供了一个去中心化的，不可篡改的，高可靠性的系统。
在这样的系统环境中，智能合约就可以在现实世界发挥更大的作用。

智能合约是区块链重要的特性之一，也是共识机制落地应用的关键一步。

## 初链智能合约有哪些特点

#### 稳定、低成本的燃料费

实现零燃料费对于任何一个公链（无需许可链）来说都是不可能的。
尽管如此，初链可提供稳定、低成本的燃料费，而让更多使用智能合约开发的DApps实现上链。

#### 多语言编写智能合约

智能合约的运行必须依靠虚拟机完成，保证统一智能合约在不同环境下可以运算得到同一结果。
初链继承了以太坊的虚拟机（EVM）的设计思路，并做更多的拓展，将推出全新TVM，类似于 X86 虚拟机，
在这个虚拟机中可以运行多种开发语言（python、go、javascript等）编写的智能合约。

当前支持使用以太坊Solidity语言编写的智能合约。

#### 易普达开发框架

易达普（Easy Dapp）是简单易用的 Dapp 开发框架。
普通的开发者再也不需要关注复杂的技术栈，不需要理解区块链复杂的技术实现，也不需要自己去部署完整的区块链，只需要引用本开发框架，调用标准的接口函数，在 TVM 虚拟机上运行，就可以非常快速的开发并且部署去中心化的 Dapp 应用。

当前已上线使用的 [Stellar](stellar.truechain.pro) 为商用 Dapp 开发者提供便捷、稳定、高效率的智能合约开发平台，开发者可以对合约进行全生命周期的管理。

未来，初链将继续完善智能合约开发工具包，并拓展基础设施的产品丰富度，满足新一代无需许可链使用者开发个性化、复杂化智能合约的需求。

## 编写智能合约

智能合约是由一组代码和数据组成的程序，位于初链区块链上的一个特殊地址中。

我们以Solidity语言编写智能合约为例，简单介绍一下如何编写一个规范的合约程序，合约 HelloWorld.sol 的代码如下：

```javascript
pragma solidity ^0.4.0;

contract HelloWorld {
    uint balance;

    function update(uint amount) returns (address, uint) {
        balance += amount;
        return (msg.sender, balance);
    }
}
```

说明：上述示例中 `uint balance` 表示声明了一个状态变量，类型为 `uint` （即256位的无符号整数）。 

 `function update(uint amount) returns (address, uint)` 表示一个函数，
 其中参数为 `amount` ，返回值为一个元组 (address, unit) ，
 函数中返回值可以只给出类型，而无需具体的变量名。
 该函数的功能是更新 HelloWord 合约的 `balance` ，即调用合约成功执行后，将增加 `balance` 余额。

编写Solidity合约代码的详细说明可参考 [Solidity官方开发指南](https://solidity.readthedocs.io/en/develop/)。
